"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6691],{36691:function(e,i,r){r.r(i);var n,t=r(38416),s=r.n(t),l=r(27424),o=r.n(l),d=r(94184),a=r.n(d),c=r(27484),u=r.n(c),p=r(67294),v=r(3410),f=r(7271),x=r(30112),g=r(94320),m=r(48268),j=r(61895),h=r(47693),y=r(98330),b=r(36493),w=r(34979),N=r(18034),P=r(85893);!function(e){e[e.noPos=0]="noPos",e[e.orderSize=1]="orderSize",e[e.limitReached=2]="limitReached",e[e.stopLoss=3]="stopLoss"}(n||(n={}));i.default=function(e){var i=e.orders,r=e.handleCancel,t=e.handleEdit,l=e.positions,d=(0,y.Z)().t,c=(0,p.useState)(!1),Z=o()(c,2),_=Z[0],T=Z[1],S=(0,h.A)();(0,p.useEffect)((function(){var e=setTimeout((function(){T(!0)}),1e3);return function(){return clearTimeout(e)}}),[]);var L=[{width:"10%",title:function(){return(0,P.jsx)(v._H,{id:"Pair"})},dataIndex:"pair",render:function(e){return e||"-"}},{width:"10%",title:function(){return(0,P.jsx)(v._H,{id:"Side"})},key:"side",render:function(e){var i;return(0,P.jsx)("div",{className:a()((i={},s()(i,N.Z.colorGrn,(null==e?void 0:e.isLong)==(null==e?void 0:e.isIncrease)),s()(i,N.Z.colorRed,(null==e?void 0:e.isLong)!==(null==e?void 0:e.isIncrease)),i)),children:d(null==e?void 0:e.side)})}},{width:"8%",title:function(){return(0,P.jsx)(v._H,{id:"Type"})},dataIndex:"type",key:"type",render:function(e){return(0,P.jsx)("div",{className:"c190 fw3",children:d(e)})}},{width:"13%",title:function(){return(0,P.jsx)(v._H,{id:"Size"})},dataIndex:"size",key:"size",render:function(e,i){var r=(0,b.D4)(i.pair);return(0,P.jsx)(f.lp,{priceLabel:d("orderPrice"),entryPrice:i.triggerPrice,symbol:r,usdSize:e})}},{width:"8%",title:function(){return(0,P.jsx)(v._H,{id:"Collateral"})},key:"collateral",render:function(e){var i,r=+e.isIncrease?e.collateral:null===(i=Math.abs(+e.collateral))||void 0===i?void 0:i.toString(),n=+e.isIncrease?"+$":"-$";return(0,P.jsx)("span",{className:"color-green-400",children:(0,P.jsx)(m.ZP,{value:r,prefix:n})})}},{width:"10%",title:function(){return(0,P.jsx)(v._H,{id:"indexPrice"})},render:function(e){return(0,P.jsx)(m.ZP,{value:e.indexPrice,prefix:"$"})}},{width:"10%",title:function(){return(0,P.jsx)(v._H,{id:"orderPrice"})},render:function(e){return(0,P.jsx)(m.ZP,{value:null==e?void 0:e.triggerPrice,prefix:null!=e&&e.triggerAbove?">$":"<$"})}},{width:"10%",title:function(){return(0,P.jsx)(v._H,{id:"tpSL"})},render:function(e){return(0,P.jsx)(m.y_,{values:[{value:Number((null==e?void 0:e.tp)||0)>0?null==e?void 0:e.tp:void 0,prefix:"$"},{value:Number((null==e?void 0:e.sl)||0)>0?null==e?void 0:e.sl:void 0,prefix:"$"}]})}},{width:"10%",title:function(){return(0,P.jsx)(v._H,{id:"Time"})},dataIndex:"time",key:"time"},{width:"15%",align:"right",title:d("Action"),render:function(e,s,a){if(void 0===(null==e?void 0:e.liqPrice))return[!1,(0,P.jsx)(P.Fragment,{})];var c=function(e){var r=function(e,i){return(0,P.jsxs)("div",{className:N.Z.warning,children:[(0,P.jsx)("div",{className:N.Z.warningTitle,children:d("WARNING")}),(0,P.jsx)("div",{className:N.Z.warningContent,children:(0,P.jsx)(v._H,{id:"Orders."+n[e],values:{triggerAbove:i?"above":"below"}})})]})},t=e.sl,s=e.tp,a=e.type,c=e.isLong,u=e.pair,p=e.size,f=function(e,i){var r=l.find((function(r){return r.pair===e&&r.isLong===i}));return r?[!0,r]:[!1,{}]}(u,c),x=o()(f,2),g=x[0],m=x[1];if("Trigger"===a){if(!g)return[!0,r(0)];if(+p>+m.size)return[!0,r(1)]}if(+s>0||+t>0){var j=Number(null==e?void 0:e.liqPrice)||0;if(function(e,r){var n;return(null===(n=i.filter((function(i){return i.pair===e&&i.isLong===r&&"Trigger"===i.type})))||void 0===n?void 0:n.length)||0}(u,c)>=10)return[!0,r(2)];if(g&&+t>0&&(+t<j===c||+t>j==!c))return[!0,r(3,+t>j)]}return[!1,(0,P.jsx)(P.Fragment,{})]}(e),p=o()(c,2),f=p[0],g=p[1],m=function(e,i,r){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(v._H,{id:"Orders.pnlText",values:{type:e,triggerPrice:r,PNL:i}}),(0,P.jsx)("br",{})]})},h=[{svgName:"warningRed",toolTipContent:g,visible:_&&f,overlayClass:N.Z.warningYellow,overlayStyle:{minWidth:320}},{svgName:"mainorder",toolTipContent:+e.tp>0||+e.sl>0?function(e){var i=e.tp,r=e.sl,n=e.isLong,t=+i>0,s=+r>0,l=(0,j.dp)((0,x.Z)(e.triggerPrice,i,e.size,n)||"").display({prefix:""}),o=(0,j.dp)((0,x.Z)(e.triggerPrice,r,e.size,n)||"").display({prefix:""});return(0,P.jsxs)("div",{className:N.Z.warning,children:[(0,P.jsx)("div",{className:N.Z.warningTitle,children:(0,P.jsx)(v._H,{id:"Orders.tpOrSL"})}),(0,P.jsxs)("div",{className:N.Z.warningContent,children:[(0,P.jsx)(v._H,{id:"Orders.orderSet",values:{TP:t?"tp":"",and:t&&s?"and":"",SL:s?"sl":""}}),(0,P.jsx)("br",{}),t?m(d("tp"),l,(0,j.dp)(i).display({prefix:""})):(0,P.jsx)(P.Fragment,{}),s?m(d("sl"),o,(0,j.dp)(r).display({prefix:""})):(0,P.jsx)(P.Fragment,{})]})]})}(e):void 0,visible:"Limit"===e.type&&(+e.tp>0||+e.sl>0),overlayStyle:{minWidth:320}},{svgName:"suborder",toolTipContent:function(e,i){var r=(0,b.D4)(i.pair),n=(0,j.dp)((0,x.Z)(i.fromPrice,i.triggerPrice,i.size,i.isLong)||"").display({prefix:""}),t=i.triggerPrice;return(0,P.jsxs)("div",{className:N.Z.warning,children:[(0,P.jsx)("div",{className:N.Z.warningTitle,children:(0,P.jsx)(v._H,{id:"Orders.tpOrSL"})}),(0,P.jsxs)("div",{className:N.Z.warningContent,children:[(0,P.jsx)(v._H,{id:"Orders.orderWithType",values:{type:e}}),(0,P.jsx)("br",{}),function(e){return"".concat(d("Increase")," ").concat(r," ").concat(e.isLong?d("long"):d("short"),", ").concat((0,j.dp)(e.size).display({prefix:""})," USD, ").concat(r," ").concat(d("price"),": ").concat((0,j.dp)(null==e?void 0:e.fromPrice).display({prefix:""})," USD, ").concat(u()(1e3*+((null==e?void 0:e.fromOrderTimeStamp)||(null==e?void 0:e.timestamp))).format("DD MMM YYYY, HH:mm A"),". ")}(i),(0,P.jsx)("br",{}),m(e,n,(0,j.dp)(t).display({prefix:""}))]})]})}(e.isLong===e.triggerAbove?"take profit":"stop loss",e),visible:"Trigger"===(null==e?void 0:e.type)&&+(null==e?void 0:e.fromOrder)>0,overlayStyle:{minWidth:320}},{svgName:"edit",toolTipContent:d("Edit"),onClick:function(){S("orders_click_edit",{event_name:"orders_edit"}),t(e,a)},visible:!0},{svgName:"cancel_list",toolTipContent:d("Cancel"),onClick:function(){return r(e)},visible:!0}];return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(w.N,{buttons:h})})}}];return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(g.Z,{className:N.Z.table,size:"small",columns:L,dataSource:i,bordered:!1,pagination:!1,emptyText:d("No Open Orders")})})}}}]);